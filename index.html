<!-- index.html -->

<!DOCTYPE html>
<html>
  <head>
    <title>NEX</title>

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="UTF-8" />

    <!-- Font -->
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Roboto&display=swap");
      @import url("https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
    </style>

    <!-- SEMANTIC UI -->
    <!-- Check the versions: currently importing v2.1 & v2.4, probably related to Calendar -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"
    />
    <script
      src="https://code.jquery.com/jquery-3.1.1.min.js"
      integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
      crossorigin="anonymous"
    ></script>

    <link
      href="https://cdn.rawgit.com/mdehoog/Semantic-UI/6e6d051d47b598ebab05857545f242caf2b4b48c/dist/semantic.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <script src="https://cdn.rawgit.com/mdehoog/Semantic-UI/6e6d051d47b598ebab05857545f242caf2b4b48c/dist/semantic.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script>

    <!-- CHART.JS-->
    <script src="./modules/chartjs/chart.min.js"></script>

    <!-- DYGRAPH-->
    <script src="./modules/dygraph/dygraph.js"></script>
    <link rel="stylesheet" href="./modules/dygraph/dygraph.css" />

    <!--- SLIDER UI  --->
    <link href="./modules/nouislider/dist/nouislider.css" rel="stylesheet" />
    <script src="./modules/nouislider/dist/nouislider.js"></script>

    <!-- IUMPORTMAP FOR APP.JS DEPENDENCIES-->
    <script type="importmap">
      {
        "imports": {
          "three": "./modules/three/three.module.js",
          "tween": "./modules/three/Tween.js",
          "OrbitControls": "./modules/three/OrbitControls.js",
          "jsGradient": "./modules/js-gradient/index.js",
          "utils": "./modules/utils.js",
          "ch_utils": "./modules/ch_utils.js",
          "dy_utils": "./modules/dy_utils.js"
        }
      }
    </script>

    <!-- LOCAL STYLE -->
    <link href="styles/main.css" rel="stylesheet" type="text/css" />
  </head>

  <body id="body">
    <div id="ui_wrapper">
      <div class="menu_wrapper">
        <!-- Nav Bar-->
        <div class="ui stackable container menu header">
          <div class="item left" onclick="showTab('')">
            <img src="./public/NEX_logo.png" width="100" />
          </div>
          <a class="item" onclick="showTab('layers')">Layers</a>
          <a class="item" onclick="showTab('space')">Space</a>
          <a class="item" onclick="showTab('insights')">Data</a>
          <a class="item" onclick="showTab('gathering')">Info</a>
        </div>
      </div>

      <!-- Gathering section-->
      <div id="gathering" class="tab hidden">
        <div class="ui three column grid">
          <div class="column">
            <div class="ui fluid card">
              <div class="image bw">
                <img src="./public/gath_1.jpg" />
              </div>
              <div class="ui content">
                <h5 class="ui">Demographic Segmentation</h5>
              </div>
              <div class="ui content">
                <div class="ui description">
                  Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                  Soluta ex sit molestiae. Libero voluptate dolores aspernatur
                  maiores labore optio ex deserunt? Eligendi rerum quod possimus
                  praesentium iste id quam? Cupiditate.
                </div>
              </div>
            </div>
          </div>
          <div class="column">
            <div class="ui fluid card">
              <div class="image bw">
                <img src="./public/gath_2.jpg" />
              </div>
              <div class="ui content">
                <h5 class="ui">Semantic Segmentation</h5>
              </div>
              <div class="ui content">
                <div class="description">
                  Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                  Soluta ex sit molestiae. Libero voluptate dolores aspernatur
                  maiores labore optio ex deserunt? Eligendi rerum quod possimus
                  praesentium iste id quam? Cupiditate.
                </div>
              </div>
            </div>
          </div>
          <div class="column">
            <div class="ui fluid card">
              <div class="image bw">
                <img src="./public/gath_3.jpg" />
              </div>
              <div class="ui content">
                <h5 class="ui">Costumer - Product Interaction</h5>
              </div>
              <div class="ui content">
                <div class="description">
                  Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                  Soluta ex sit molestiae. Libero voluptate dolores aspernatur
                  maiores labore optio ex deserunt? Eligendi rerum quod possimus
                  praesentium iste id quam? Cupiditate.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Layers section-->
      <div id="layers" class="ui_content tab hidden">
        <div class="ui styled accordion show" id="accordion_grid">
          <div id="gender" class="db_filter title active">
            <button class="ui button">Gender</button>
          </div>
          <div class="content active">
            <table class="ui basic right aligned table">
              <tbody>
                <tr>
                  <td class="left aligned">Male</td>
                  <td>
                    <div class="ui label" id="layers_lbl_0_0">%</div>
                    <i class="stop icon" style="color: #3e2cb0"></i>
                  </td>
                </tr>
                <tr>
                  <td class="left aligned">Female</td>
                  <td>
                    <div class="ui label" id="layers_lbl_0_1">%</div>
                    <i class="stop icon" style="color: #e64366"></i>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div id="age" class="db_filter title active">
            <button class="ui button">Age</button>
          </div>
          <div class="content">
            <table class="ui basic right aligned table">
              <tbody>
                <tr>
                  <!-- <tr> 
                    <td>
                      <i class="stop icon" style="color: #d1e028"></i>
                      Kids
                    </td>
                    <td class="right aligned">
                      <div class="ui label" id="layers_lbl_1_0">%</div>
                    </td>
                  </tr> -->
                  <td class="left aligned">Kids</td>
                  <td>
                    <div class="ui label" id="layers_lbl_1_0">%</div>
                    <i class="stop icon" style="color: #d1e028"></i>
                  </td>
                </tr>
                <tr>
                  <td class="left aligned">Young</td>
                  <td>
                    <div class="ui label" id="layers_lbl_1_1">%</div>
                    <i class="stop icon" style="color: #d8ac3d"></i>
                  </td>
                </tr>
                <tr>
                  <td class="left aligned">Adult</td>
                  <td>
                    <div class="ui label" id="layers_lbl_1_2">%</div>
                    <i class="stop icon" style="color: #df7751"></i>
                  </td>
                </tr>
                <tr>
                  <td class="left aligned">Elder</td>
                  <td>
                    <div class="ui label" id="layers_lbl_1_3">%</div>
                    <i class="stop icon" style="color: #e64366"></i>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div id="group" class="db_filter title">
            <button class="ui button">Ethnicity</button>
          </div>
          <div class="content">
            <table class="ui basic right aligned table">
              <tbody>
                <tr>
                  <td class="left aligned">Caucasian</td>
                  <td>
                    <div class="ui label" id="layers_lbl_2_0">%</div>
                    <i class="stop icon" style="color: #3e2cb0"></i>
                  </td>
                </tr>
                <tr>
                  <td class="left aligned">Indian</td>
                  <td>
                    <div class="ui label" id="layers_lbl_2_1">%</div>
                    <i class="stop icon" style="color: #d1e028"></i>
                  </td>
                </tr>
                <tr>
                  <td class="left aligned">Middle Eastern</td>
                  <td>
                    <div class="ui label" id="layers_lbl_2_2">%</div>
                    <i class="stop icon" style="color: #e64366"></i>
                  </td>
                </tr>
                <tr>
                  <td class="left aligned">Afro American</td>
                  <td>
                    <div class="ui label" id="layers_lbl_2_3">%</div>
                    <i class="stop icon" style="color: #a243e6"></i>
                  </td>
                </tr>
                <tr>
                  <td class="left aligned">Asian</td>
                  <td>
                    <div class="ui label" id="layers_lbl_2_4">%</div>
                    <i class="stop icon" style="color: #e0283e"></i>
                  </td>
                </tr>
                <tr>
                  <td class="left aligned">Other</td>
                  <td>
                    <div class="ui label" id="layers_lbl_2_5">%</div>
                    <i class="stop icon" style="color: #2cb0a8"></i>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="ui styled accordion not_show" id="accordion_prod">
          <div id="gaze" class="db_p_filter title active">
            <button class="ui button">Gaze</button>
          </div>
          <div class="content active">
            <table class="ui basic aligned table">
              <tbody>
                <tr>
                  <td class="left two wide aligned">Min</td>
                  <td class="six aligned">
                    <div class="gradient"></div>
                  </td>
                  <td class="two wide right aligned">Max</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div id="object" class="db_p_filter title">
            <button class="ui button">Focus</button>
          </div>
          <div class="content">
            <table class="ui basic aligned table">
              <tbody>
                <tr>
                  <td class="left two wide aligned">Min</td>
                  <td class="six aligned">
                    <div class="gradient"></div>
                  </td>
                  <td class="two wide right aligned">Max</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div id="interaction" class="db_p_filter title">
            <button class="ui button">Interaction</button>
          </div>
          <div class="content">
            <table class="ui basic aligned table">
              <tbody>
                <tr>
                  <td class="left two wide aligned">Min</td>
                  <td class="six aligned">
                    <div class="gradient"></div>
                  </td>
                  <td class="two wide right aligned">Max</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Space section-->
      <div id="space" class="ui_content tab hidden">
        <div class="ui segment">
          <div class="content">
            <table class="ui basic aligned table">
              <tbody>
                <tr>
                  <td class="left aligned">Width</td>
                  <td class="twelve wide">
                    <div class="ui_slider" id="sldCon_Width"></div>
                  </td>
                </tr>
                <tr id="row_Height">
                  <td class="left aligned">Height</td>
                  <td class="twelve wide">
                    <div class="ui_slider" id="sldCon_Height"></div>
                  </td>
                </tr>
              </tbody>
            </table>
            <table class="ui basic aligned table">
              <tbody>
                <tr>
                  <td class="left aligned">Min/Max</td>
                  <td class="twelve wide">
                    <div class="ui_slider" id="sldRan_Clip"></div>
                  </td>
                </tr>
                <tr>
                  <td class="left aligned">Skew</td>
                  <td class="twelve wide">
                    <div class="ui_slider" id="sldCon_Skew"></div>
                  </td>
                </tr>
              </tbody>
            </table>
            <table class="ui basic aligned inverted table fluid">
              <tbody>
                <tr>
                  <td class="sixteen wide">
                    <select class="ui fluid dropdown" id="drop_Foc">
                      <option value="">None</option>
                      <option value="dist1">Left expo</option>
                      <option value="dist2">Right expo</option>
                      <option value="dist3">Entrance</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="sixteen wide">
                    <div class="ui_slider" id="sldCon_Foc"></div>
                  </td>
                </tr>
              </tbody>
            </table>
            <button class="ui button" id="btn_reset">Reset</button>
          </div>
        </div>
      </div>

      <!-- Insights section -->
      <div id="insights" class="tab hidden">
        <div
          class="ui floating clearable dropdown inverted basic button"
          id="drop_Filt"
        >
          <i class="filter icon"></i>
          <span class="text default">Filter</span>
          <i class="dropdown icon"></i>
          <div class="menu">
            <div class="scrolling menu">
              <div class="item" data-value="0_0">
                <div
                  class="ui empty circular label"
                  style="background-color: #3e2cb0 !important"
                ></div>
                Male
              </div>
              <div class="item" data-value="0_1">
                <div
                  class="ui empty circular label"
                  style="background-color: #e64366 !important"
                ></div>
                Female
              </div>
              <div class="divider"></div>
              <div class="item" data-value="1_0">
                <div
                  class="ui empty circular label"
                  style="background-color: #d1e028 !important"
                ></div>
                Kids
              </div>
              <div class="item" data-value="1_1">
                <div
                  class="ui empty circular label"
                  style="background-color: #d8ac3d !important"
                ></div>
                Young
              </div>
              <div class="item" data-value="1_2">
                <div
                  class="ui empty circular label"
                  style="background-color: #df7751 !important"
                ></div>
                Adult
              </div>
              <div class="item" data-value="1_3">
                <div
                  class="ui empty circular label"
                  style="background-color: #e64366 !important"
                ></div>
                Elder
              </div>
              <div class="divider"></div>
              <div class="item" data-value="2_0">
                <div
                  class="ui empty circular label"
                  style="background-color: #3e2cb0 !important"
                ></div>
                Caucasian
              </div>
              <div class="item" data-value="2_1">
                <div
                  class="ui empty circular label"
                  style="background-color: #d1e028 !important"
                ></div>
                Indian
              </div>
              <div class="item" data-value="2_2">
                <div
                  class="ui empty circular label"
                  style="background-color: #e64366 !important"
                ></div>
                Middle Eastern
              </div>
              <div class="item" data-value="2_3">
                <div
                  class="ui empty circular label"
                  style="background-color: #a243e6 !important"
                ></div>
                Afro American
              </div>
              <div class="item" data-value="2_4">
                <div
                  class="ui empty circular label"
                  style="background-color: #e0283e !important"
                ></div>
                Asian
              </div>
              <div class="item" data-value="2_5">
                <div
                  class="ui empty circular label"
                  style="background-color: #2cb0a8 !important"
                ></div>
                Other
              </div>
            </div>
          </div>
        </div>
        <div class="ui fluid">
          <div class="ui three column grid middle aligned">
            <div class="column">
              <canvas id="pie_Gen"></canvas>
              <h5 class="ui center aligned header block basic">Gender</h5>
            </div>
            <div class="column">
              <canvas id="pie_Age"></canvas>
              <h5 class="ui center aligned header block basic">Age</h5>
            </div>
            <div class="column">
              <canvas id="pie_Grp"></canvas>
              <h5 class="ui center aligned header block basic">Ethnicity</h5>
            </div>
          </div>
        </div>
      </div>

      <!-- Blurred background for modal effect -->
      <div
        class="full_page blur_bk_more blur_out z1 no_pt"
        id="base_blur"
      ></div>
    </div>

    <!-- Threee -->
    <div id="canvas" class="z3"></div>

    <!-- Chart -->
    <div class="ui content chart_container blur_bk z2">
      <div id="chart" class="sticky-bottom"></div>
    </div>

    <!-- Cameras Toggle -->
    <div class="ui_camera z2">
      <button
        class="ui big circular icon button active secondary"
        id="tgl_camera"
      >
        <i class="cube icon"></i>
      </button>
    </div>

    <!-- Focus Toggle -->
    <div class="ui_focus">
      <button class="ui big circular icon button active" id="tgl_focus">
        <i class="user icon"></i>
      </button>
    </div>

    <!-- Calendar -->
    <div class="ui_calendar">
      <div class="ui calendar" id="calendar">
        <button class="ui big circular icon button active">
          <i class="calendar alternate outline icon"></i>
        </button>
      </div>
    </div>

    <!-- Colophon-->
    <div class="logo">
      <a href="https://noumena.io/en/" target="_blank">
        <img src="./public/Noumena_logo.png" alt="NOUMENA" width="150" />
      </a>
    </div>

    <!-- Initiate Accordion -->
    <script>
      $(".ui.accordion").accordion();
      $(".ui.dropdown").dropdown();

      $("#tgl_camera").click(function () {
        $(this).toggleClass("active");
        $(this).children(".icon").toggleClass("cube stop");
      });

      $("#tgl_focus").click(function () {
        $(this).children(".icon").toggleClass("user shopping bag");
        $("#accordion_grid").toggleClass("show not_show");
        $("#accordion_prod").toggleClass("show not_show");
        $("#row_Height").toggleClass("disabled");
      });

      $("#calendar").calendar({ type: "date" });
    </script>

    <script>
      function showTab(id) {
        let tab;
        let tabs;
        let idsBlur = ["insights", "gathering"];
        let blur = document.getElementById("base_blur");

        // Reset setting
        tabs = document.querySelectorAll(".tab");
        tabs.forEach(function (input) {
          input.classList.add("hidden");
        });
        blur.classList.add("blur_out");
        blur.classList.remove("blur_in");

        // Selected visibility
        tab = document.getElementById(id);
        tab.classList.remove("hidden");
        tab.classList.add("visible");

        // If matching the idsBlur activate blur
        if (idsBlur.indexOf(id) > -1) {
          blur.classList.remove("blur_out");
          blur.classList.add("blur_in");
        }
      }
    </script>
  </body>

  <script type="module" src="./modules/sliders_init.js"></script>
  <script type="module" src="./app.js"></script>
</html>
